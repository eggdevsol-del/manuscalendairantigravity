<mxfile host="app.diagrams.net" modified="2026-02-08T06:57:23.000Z" agent="Antigravity" version="24.0.0" etag="patent-fig3-v1">
  <diagram name="FIG. 3 - Collision Detection" id="fig3-collision">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="FIG. 3: INTERVAL OVERLAP DETECTION ALGORITHM" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;strokeWidth=2" vertex="1" parent="1">
          <mxGeometry x="200" y="20" width="800" height="50" as="geometry" />
        </mxCell>
        
        <!-- Input (600) -->
        <mxCell id="600" value="600&#xa;INPUT:&#xa;• candidateStart (timestamp)&#xa;• candidateDuration (minutes)&#xa;• existingAppointments (array)" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;align=left" vertex="1" parent="1">
          <mxGeometry x="400" y="100" width="400" height="80" as="geometry" />
        </mxCell>
        
        <!-- Calculate End (610) -->
        <mxCell id="610" value="610&#xa;CALCULATE CANDIDATE INTERVAL:&#xa;candidateEnd = candidateStart&#xa;  + (candidateDuration × 60000)&#xa;&#xa;// Convert minutes to milliseconds" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="450" y="220" width="300" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="edge600_610" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="600" target="610">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Initialize Loop (620) -->
        <mxCell id="620" value="620&#xa;FOR EACH appointment&#xa;IN existingAppointments" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="475" y="350" width="250" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="edge610_620" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="610" target="620">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Overlap Check (630) -->
        <mxCell id="630" value="630&#xa;INTERVAL OVERLAP TEST:&#xa;&#xa;overlap = (&#xa;  candidateStart &lt; appointment.endTime&#xa;  AND&#xa;  candidateEnd > appointment.startTime&#xa;)&#xa;&#xa;// Mathematical overlap condition&#xa;// True if intervals intersect" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="440" y="460" width="320" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="edge620_630" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="620" target="630">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Novel Feature -->
        <mxCell id="novel_collision" value="NOVEL FEATURE:&#xa;Efficient O(1) overlap&#xa;detection per appointment&#xa;using mathematical&#xa;interval intersection&#xa;formula" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4e6;strokeColor=#ff9800;fontSize=10;fontStyle=2;dashed=1;dashPattern=5 5" vertex="1" parent="1">
          <mxGeometry x="820" y="485" width="180" height="90" as="geometry" />
        </mxCell>
        
        <mxCell id="edge_novel" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;strokeColor=#ff9800;" edge="1" parent="1" source="novel_collision" target="630">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Overlap Decision (640) -->
        <mxCell id="640" value="640&#xa;overlap&#xa;= true?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="520" y="640" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="edge630_640" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="630" target="640">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Return True (650) -->
        <mxCell id="650" value="650&#xa;RETURN true&#xa;(Collision detected)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="780" y="645" width="160" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="edge640_650" value="YES&#xa;(conflict found)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontStyle=1;fontSize=10" edge="1" parent="1" source="640" target="650">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Continue Loop (660) -->
        <mxCell id="660" value="660&#xa;Continue to&#xa;next appointment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10" vertex="1" parent="1">
          <mxGeometry x="280" y="650" width="160" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="edge640_660" value="NO&#xa;(no conflict)" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontStyle=1;fontSize=10" edge="1" parent="1" source="640" target="660">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Loop Back -->
        <mxCell id="edge660_620" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d6b656" edge="1" parent="1" source="660" target="620">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="385" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- All Checked (670) -->
        <mxCell id="670" value="670&#xa;All appointments checked&#xa;No collisions found" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="280" y="355" width="160" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="edge620_670" value="Loop&#xa;Complete" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontStyle=1;fontSize=9" edge="1" parent="1" source="620" target="670">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Return False (680) -->
        <mxCell id="680" value="680&#xa;RETURN false&#xa;(No collision,&#xa;slot is available)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="80" y="350" width="160" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="edge670_680" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="670" target="680">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Visual Diagram -->
        <mxCell id="visual_box" value="VISUAL REPRESENTATION OF OVERLAP CONDITIONS" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;fontSize=11;startSize=30" vertex="1" parent="1">
          <mxGeometry x="100" y="760" width="1000" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="case1" value="CASE 1: OVERLAP&#xa;Candidate: |-------|&#xa;Existing:      |-------|&#xa;Result: TRUE" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Courier New" vertex="1" parent="visual_box">
          <mxGeometry x="20" y="40" width="220" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="case2" value="CASE 2: NO OVERLAP (BEFORE)&#xa;Candidate: |-------|&#xa;Existing:              |-------|&#xa;Result: FALSE" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Courier New" vertex="1" parent="visual_box">
          <mxGeometry x="260" y="40" width="220" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="case3" value="CASE 3: NO OVERLAP (AFTER)&#xa;Candidate:         |-------|&#xa;Existing:  |-------|&#xa;Result: FALSE" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Courier New" vertex="1" parent="visual_box">
          <mxGeometry x="500" y="40" width="220" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="case4" value="CASE 4: COMPLETE OVERLAP&#xa;Candidate:   |-----|&#xa;Existing:  |---------|&#xa;Result: TRUE" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontFamily=Courier New" vertex="1" parent="visual_box">
          <mxGeometry x="740" y="40" width="220" height="60" as="geometry" />
        </mxCell>
        
        <!-- Mathematical Formula -->
        <mxCell id="formula_box" value="MATHEMATICAL FORMULA:&#xa;&#xa;Two intervals [A_start, A_end] and [B_start, B_end] overlap if and only if:&#xa;&#xa;  A_start &lt; B_end  AND  A_end > B_start&#xa;&#xa;This formula correctly handles all overlap scenarios including:&#xa;• Partial overlap (start or end)&#xa;• Complete containment (one interval inside another)&#xa;• Exact boundary touching (configurable based on requirements)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;align=left;fontSize=10;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="100" y="480" width="280" height="180" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
